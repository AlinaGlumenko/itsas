<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<title>301. Запекание нормалей: То, про что все стесняются говорить &#8211; Ivan &#039;mrven&#039; Vostrikov</title>
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Ivan &#039;mrven&#039; Vostrikov &raquo; Feed" href="http://mrven.ru/feed/" />
<link rel="alternate" type="application/rss+xml" title="Ivan &#039;mrven&#039; Vostrikov &raquo; Comments Feed" href="http://mrven.ru/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/mrven.ru\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.3.4"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<!-- managing ads with Advanced Ads – https://wpadvancedads.com/ -->		<script>
			//@formatter:off
						advanced_ads_ready=function(){var fns=[],listener,doc=typeof document==="object"&&document,hack=doc&&doc.documentElement.doScroll,domContentLoaded="DOMContentLoaded",loaded=doc&&(hack?/^loaded|^c/:/^loaded|^i|^c/).test(doc.readyState);if(!loaded&&doc){listener=function(){doc.removeEventListener(domContentLoaded,listener);window.removeEventListener("load",listener);loaded=1;while(listener=fns.shift())listener()};doc.addEventListener(domContentLoaded,listener);window.addEventListener("load",listener)}return function(fn){loaded?setTimeout(fn,0):fns.push(fn)}}();
			</script><style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='font-awesome-css'  href='http://mrven.ru/wp-content/themes/aakriti-personal-blog/assets/css/font-awesome.min.css?ver=1.0.6' type='text/css' media='all' />
<link rel='stylesheet' id='jquery-custombox-css'  href='http://mrven.ru/wp-content/themes/aakriti-personal-blog/assets/css/custombox.min.css?ver=1.0.6' type='text/css' media='all' />
<link rel='stylesheet' id='aakriti-personal-blog-fonts-css'  href='https://fonts.googleapis.com/css?family=Poppins%3A400%2C500%2C700%7CRoboto%3A400%2C500&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='aakriti-personal-blog-style-css'  href='http://mrven.ru/wp-content/themes/aakriti-personal-blog/style.css?ver=1.0.6' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='http://mrven.ru/wp-includes/css/dist/block-library/style.min.css?ver=5.3.4' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-theme-css'  href='http://mrven.ru/wp-includes/css/dist/block-library/theme.min.css?ver=5.3.4' type='text/css' media='all' />
<link rel='stylesheet' id='enlighter-local-css'  href='http://mrven.ru/wp-content/plugins/enlighter/resources/EnlighterJS.min.css?ver=3.10.0' type='text/css' media='all' />
<script type='text/javascript' src='http://mrven.ru/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'></script>
<script type='text/javascript' src='http://mrven.ru/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='http://mrven.ru/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://mrven.ru/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://mrven.ru/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.3.4" />
<link rel="canonical" href="http://mrven.ru/301-normals-bake-basic/" />
<link rel='shortlink' href='http://mrven.ru/?p=440' />
<link rel="alternate" type="application/json+oembed" href="http://mrven.ru/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fmrven.ru%2F301-normals-bake-basic%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://mrven.ru/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fmrven.ru%2F301-normals-bake-basic%2F&#038;format=xml" />

<style>
.header-content,.main-navigation ul#primary-menu ul{background: #fff; }
.main-navigation ul ul li{border-bottom:#fff; }

.main-navigation ul li a,.main-navigation ul li ul a{color:#000;}
.header-search .search-field:focus, .header-search .search-field:active{color:#000;}

.main-navigation ul ul.sub-menu a:hover{background:  #fff;}
.main-navigation .current-menu-item a, .header-content .aakriti-personal-blog-sn a:hover, .header-content .aakriti-personal-blog-sn a:focus, .header-content .aakriti-personal-blog-sn a:active{color:#0e77e2;} 
.main-navigation a:hover, .main-navigation .current-menu-item .children a:hover, .main-navigation .current-menu-item .sub-menu a:hover { color: #0e77e2;}

.entry-content .link-more a.more-link{	color: #000}
.entry-content .link-more a.more-link:hover,.site-content .hentry.format-quote a.more-link:hover{color: #0e77e2;}
.widget ul li a{color: #000000;}
.widget ul li a:hover{color: #0e77e2;}
h1,h1.entry-title{	color: #000000;}
h2, h2.page-title, h2.entry-title a:link, h2 a, h2 a:visited{	color: #000000;}
h2.entry-title a:hover, .site-content a:hover, .site-content a:active, .site-content .hentry.format-quote a:hover{color: #0e77e2;}
h3, footer h3{color: #000000;}
h4{	color: #000000;}
h5{	color: #000000;}
h6{	color: #000000;}

</style>
<link rel="icon" href="http://mrven.ru/wp-content/uploads/2018/08/cropped-cropped-square-192x192-32x32.png" sizes="32x32" />
<link rel="icon" href="http://mrven.ru/wp-content/uploads/2018/08/cropped-cropped-square-192x192-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="http://mrven.ru/wp-content/uploads/2018/08/cropped-cropped-square-192x192-180x180.png" />
<meta name="msapplication-TileImage" content="http://mrven.ru/wp-content/uploads/2018/08/cropped-cropped-square-192x192-270x270.png" />
	
</head>
<body class="page-template-default page page-id-440">
<div id="page" class="site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>	
<header id="masthead" class="site-header" role="banner">		
		<div class="site-branding container clearfix">
			<div class="aakriti-personal-blog-columns-row">
				<div class="header-logo aakriti-personal-blog-col-12 aakriti-personal-blog-col-sm-12 aakriti-personal-blog-columns">
											<div class="site-title-wrap">
							<h1 class="site-title"><a href="http://mrven.ru/" title="Ivan &#039;mrven&#039; Vostrikov" rel="home">Ivan &#039;mrven&#039; Vostrikov</a></h1>
							<h2 class="site-description">Personal Site</h2>
						</div>
									</div>	
					
			</div><!-- .Row -->
		</div><!-- .logo -->
		<div class="header-content">        
			<div class="header-content__container container">
					<nav id="site-navigation" class="main-navigation" role="navigation">
							<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">Menu</button>
							<div class="mobile-logo">
																<div class="site-title-wrap">
										<h1 class="site-title"><a href="http://mrven.ru/" title="Ivan &#039;mrven&#039; Vostrikov" rel="home">Ivan &#039;mrven&#039; Vostrikov</a></h1>
										<h2 class="site-description">Personal Site</h2>
									</div>
														</div>
							<div class="menu-top-menu-container"><ul id="primary-menu" class="menu"><li id="menu-item-213" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-213"><a title="Энциклопедия игровой компьютерной графики" href="http://mrven.ru/game-cg/">Энциклопедия</a></li>
<li id="menu-item-71" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-71"><a href="http://mrven.ru/blender-addon-texel-density-checker/">Texel Density Checker</a></li>
<li id="menu-item-170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-170"><a href="http://mrven.ru/blender-addon-asset-creation-toolset/">Asset Creation Toolset</a></li>
<li id="menu-item-145" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-145"><a href="http://mrven.ru/2018/01/3d-works/">3D Works</a></li>
<li id="menu-item-232" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-232"><a href="http://mrven.ru/about/">Обо мне</a></li>
</ul></div>					</nav><!-- #site-navigation --> 					
		              
 <div class="header-search">
                <a class="aakriti-personal-blog-link" href="javascript:void(0);" data-aakriti-personal-blog-1='{&quot;content&quot;:{&quot;effect&quot;: &quot;fadein&quot;, &quot;fullscreen&quot;: true, &quot;speedIn&quot;: 300, &quot;speedOut&quot;: 300, &quot;delay&quot;: 300},&quot;loader&quot;:{&quot;active&quot;: true}}'><i class="fa fa-search"></i></a>  
		<a class="sidebar-toggle show-for-large-only" href="javascript:void(0);"><i class="fa fa-bars"></i></a>  		
        <div id="aakriti-personal-blog-modal-1" class="aakriti-personal-blog-modal">
          <a href="javascript:void(0);" onclick="Custombox.modal.close();" class="aakriti-personal-blog-close"><i class="fa fa-close"></i></a>      
            <div class="aakriti-personal-blog-search-box">
                <form role="search" method="get" id="searchform" class="searchform" action="http://mrven.ru/">                         
                    <input placeholder="Type search term and press enter" type="search" value="" name="s" id="s" />
                    <button type="submit" class="search-btn">Search</button>         
                </form><!-- end #searchform --> 
				
            </div>  
        </div>  
</div><!-- .header-search -->

               
		            		            
			</div>
		</div><!-- .header-content -->			
</header><!-- #masthead -->	
<div class="site-content-wrap clearfix">	
	<div id="content" class="site-content container"><div class="content-row">
	<div id="primary" class="content-area">
		<main id="main" class="site-main aakriti-personal-blog-col-12 aakriti-personal-blog-columns" role="main">

			
<article id="post-440" class="post-440 page type-page status-publish hentry">

	<header class="entry-header">
		<h1 class="entry-title">301. Запекание нормалей: То, про что все стесняются говорить</h1>	</header><!-- .entry-header -->

	<div class="entry-content">
		<div class="mrven-before-content" style="text-align: center; " id="mrven-896275747"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px;" 
data-ad-client="ca-pub-6505959710039700" 
data-ad-slot="1912088297"></ins> 
<script> 
(adsbygoogle = window.adsbygoogle || []).push({}); 
</script>
</div><p>Запекание нормалей это камень преткновения практически для всех начинающих (и не очень) 3D-художников. Как правило, все сначала отправляются читать <a href="https://render.ru/books/show_book.php?book_id=3033" target="_blank" rel="noopener">4-х страничный  манускрипт про нормали на render.ru</a>, в котором много воды, а многие рецепты уже устарели. Сравнительно недавно Leonardo Lezzi сделал небольшую и очень полезную памятку <a href="https://80.lv/articles/guide-how-to-make-normal-maps/" target="_blank" rel="noopener">“No More Wrong Normal Maps”</a>, которая описывает основные аспекты запекания нормалей.</p>
<p>Мы разберём  запекание нормалей на примере Substanсe Painter и возможные проблемы. Но об этом позднее. Давайте сначала тезисно разберём теорию.</p>
<h2>Геометрия Hi-Poly и Low-Poly моделей</h2>
<p>1. Запекаемые детали на Hi-poly не должны иметь поверхностей, расположенных перпендикулярно плоскости запекания. Такие поверхности станут невидимыми при запекании. Чтобы этого избежать, необходимо делать пологий угол наклона поверхности. Пример:</p>
<p><img class="aligncenter size-large wp-image-405" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_01-1024x286.png" alt="" width="900" height="251" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_01-1024x286.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Normals_01-300x84.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_01-768x214.png 768w, http://mrven.ru/wp-content/uploads/2018/09/Normals_01.png 1121w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<p><img class="aligncenter size-large wp-image-406" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_02-1024x287.png" alt="" width="900" height="252" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_02-1024x287.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Normals_02-300x84.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_02-768x216.png 768w, http://mrven.ru/wp-content/uploads/2018/09/Normals_02.png 1122w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<p>На верхней картинке представлен случай, когда детализация на объекте имеет большое количество поверхностей, расположенных перпендикулярно плоскости запекания (другими словами &#8211; весь рельеф выполнен под 90 градусов к low-poly модели). При запекании такой модели мы получим.. равномерную, чистую карту нормалей. Почему так происходит? Из каждой точки поверхности Low-poly модели испускаются лучи (в положительную и отрицательную сторону от нормали поверхности), и то, что они встречают на своём пути и будет перенесено на карту нормалей. Как не сложно догадаться, лучи будут проходить вскользь поверхностей, расположенных под 90 градусов к поверхности запекания. Они не пересекаются с лучами.</p>
<p>Именно по этой причине делают скосы на болтах, выемках и прочем рельефе (нижняя картинка).</p>
<p>Практический пример:</p>
<p><img class="aligncenter size-large wp-image-407" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_03-1024x769.png" alt="" width="900" height="676" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_03-1024x769.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Normals_03-300x225.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_03-768x577.png 768w, http://mrven.ru/wp-content/uploads/2018/09/Normals_03.png 1028w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<p>2. Геометрия Low-Poly и Hi-Poly не должны сильно отличаться. Стоит избегать моментов, когда заметная часть Low-Poly модели находится в пустоте. На таких местах будут возникать артефакты. Особенно это заметно на острых углах. Чтобы этого избежать, добавляйте дополнительную геометрию на Low-Poly модели, приближая её по силуэту к Hi-Poly. Пример:</p>
<p><img class="aligncenter wp-image-447 size-large" src="http://mrven.ru/wp-content/uploads/2018/09/Arrows-1024x594.png" alt="" width="900" height="522" srcset="http://mrven.ru/wp-content/uploads/2018/09/Arrows-1024x594.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Arrows-300x174.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Arrows-768x445.png 768w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<p>3. По каждой острой грани (sharp edges) должен проходить шов развёртки (seam edges). Соответсвенно, каждый остров развёртки должен должен находится в пределах одной группы сглаживания (не должно быть острых граней, проходящих через остров).</p>
<p>Этого можно достичь следующим способом:</p>
<ul>
<li>Настраиваются все острые грани на объекте</li>
<li>Все острые грани помечаются как швы</li>
<li>Затем добавляются, при необходимости, дополнительные швы, чтобы получить корректную развёртку</li>
</ul>
<p><img class="aligncenter size-large wp-image-479" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_05_fixed-1024x718.png" alt="" width="900" height="631" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_05_fixed.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Normals_05_fixed-300x210.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_05_fixed-768x539.png 768w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<p>&nbsp;</p>
<h2>Развёртка</h2>
<p>1. Старайтесь, чтобы бОльшая часть прямых линий находилась строго вертикально или горизонтально. В противном случае на текстуре будет возникать пикселизация прямых линий.</p>
<p><img class="aligncenter size-large wp-image-410" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_06-920x1024.png" alt="" width="900" height="1002" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_06-920x1024.png 920w, http://mrven.ru/wp-content/uploads/2018/09/Normals_06-270x300.png 270w, http://mrven.ru/wp-content/uploads/2018/09/Normals_06-768x855.png 768w, http://mrven.ru/wp-content/uploads/2018/09/Normals_06.png 994w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<p>2. Выдерживайте расстояние между островами развёртки, чтобы избежать артефактов на швах развёртки. Рекомендуемые значения расстояний между островами (margin/padding) для Unity в зависимости от размера текстуры:</p>
<ul>
<li>256 px &#8211; 2px</li>
<li>512 px &#8211; 4px</li>
<li>1024 px &#8211; 8px</li>
<li>2048 px &#8211; 8 px</li>
<li>4096 px &#8211; 16 px</li>
</ul>
<p>3. Если у вас на развёртке есть наложенные друг на друга острова, то сдвиньте их на 1 UDIM за пределы UV-пространства, оставив на развёртке только одну “копию” острова. Острова, находящиеся за пределами развёртки не будут участвовать в запекании и их можно будет легко вернуть на место после запекания. Примечательно, что в Substance Painter на сдвинутые на 1 UDIM острова будет корректно накладываться текстура, но по этим островам нельзя рисовать.</p>
<p><img class="aligncenter size-large wp-image-411" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_07-1024x856.png" alt="" width="900" height="752" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_07-1024x856.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Normals_07-300x251.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_07-768x642.png 768w, http://mrven.ru/wp-content/uploads/2018/09/Normals_07.png 1999w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<h2>Алгоритмы запекания</h2>
<p>1. <strong>Average Normals</strong> &#8211; при запекании нормали поверхности усредняются, что позволяет качественно запечь фаски с Hi-poly модели. При это планарные детали (объекты на Hi-poly, находящиеся на поверхности) начинают смещаться и деформироваться. Длина проникновения лучей при запекании регулируется константным значение (причём некоторые программы позволяют задавать разное значение для лучей, исходящих в положительном и отрицательном направлении от нормалей).</p>
<p><img class="aligncenter size-large wp-image-412" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_08-1024x259.png" alt="" width="900" height="228" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_08.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Normals_08-300x76.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_08-768x194.png 768w" sizes="(max-width: 900px) 100vw, 900px" /> <img class="aligncenter size-full wp-image-413" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_09.png" alt="" width="1010" height="675" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_09.png 1010w, http://mrven.ru/wp-content/uploads/2018/09/Normals_09-300x200.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_09-768x513.png 768w" sizes="(max-width: 1010px) 100vw, 1010px" /></p>
<p>2. <strong>Cage</strong> &#8211; запекание с дополнительной моделью-клеткой (cage), которая ограничивает собой длину лучей при запекании, а не значением, как при запекании Average Normals. Результаты запекания аналогичны Average Normals &#8211; хорошие фаски, плохие планарные детали.</p>
<p><img class="aligncenter size-large wp-image-414" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_10-1024x258.png" alt="" width="900" height="227" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_10-1024x258.png 1024w, http://mrven.ru/wp-content/uploads/2018/09/Normals_10-300x76.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_10-768x193.png 768w, http://mrven.ru/wp-content/uploads/2018/09/Normals_10.png 1032w" sizes="(max-width: 900px) 100vw, 900px" /></p>
<figure id="attachment_413" aria-describedby="caption-attachment-413" style="width: 1010px" class="wp-caption aligncenter"><img class="wp-image-413 size-full" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_09.png" alt="" width="1010" height="675" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_09.png 1010w, http://mrven.ru/wp-content/uploads/2018/09/Normals_09-300x200.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_09-768x513.png 768w" sizes="(max-width: 1010px) 100vw, 1010px" /><figcaption id="caption-attachment-413" class="wp-caption-text">Результат запекания аналогичен Average Normals</figcaption></figure>
<p>3. <strong>Planar/Offset</strong> &#8211; запекание планарных деталей. При запекании лучи испускаются по направлению нормалей (перпендикулярно плоскости полигонов), длина лучей регулируется константным значением. Позволяет качественно запечь планарные детали, но не печёт фаски.</p>
<p><img class="aligncenter size-full wp-image-415" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_11.png" alt="" width="1017" height="259" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_11.png 1017w, http://mrven.ru/wp-content/uploads/2018/09/Normals_11-300x76.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_11-768x196.png 768w" sizes="(max-width: 1017px) 100vw, 1017px" /></p>
<p><img class="aligncenter size-full wp-image-416" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_12.png" alt="" width="1015" height="690" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_12.png 1015w, http://mrven.ru/wp-content/uploads/2018/09/Normals_12-300x204.png 300w, http://mrven.ru/wp-content/uploads/2018/09/Normals_12-768x522.png 768w" sizes="(max-width: 1015px) 100vw, 1015px" /></p>
<h2>Как качественно запечь и фаски и планарные детали?</h2>
<p>Как говорилось выше, фаски хорошо запекаются при использовании средних нормалей (average normals) или cage, а планарные детали необходимо печь без этих опций (Planar/Offset). Отсюда следует, чтобы получить качественную карту нормалей по всей модели, необходимо скомбинировать две карты, запечённые разными алгоритмами. Как это сделать, мы рассмотрим на примере Substance Painter.</p>
<p>1. Добавляем суффикс <strong>_Average</strong> к названию <strong>Texture Set</strong>’а. Это позволит нам запечь несколько вариантов карт без перезаписи.</p>
<p><img class="aligncenter size-full wp-image-418" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_13.png" alt="" width="434" height="129" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_13.png 434w, http://mrven.ru/wp-content/uploads/2018/09/Normals_13-300x89.png 300w" sizes="(max-width: 434px) 100vw, 434px" /></p>
<p>2. Оставляем при запекании только <strong>Normal</strong> с флагом “<strong>Average Normals</strong>”. Остальные параметры настраиваются по ситуации.</p>
<p><img class="aligncenter size-full wp-image-419" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_14.png" alt="" width="652" height="538" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_14.png 652w, http://mrven.ru/wp-content/uploads/2018/09/Normals_14-300x248.png 300w" sizes="(max-width: 652px) 100vw, 652px" /></p>
<p>3. Убираем суффикс <strong>_Average</strong> в названии <strong>Texture Set</strong>’а.</p>
<p><img class="aligncenter size-full wp-image-421" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_15.png" alt="" width="434" height="124" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_15.png 434w, http://mrven.ru/wp-content/uploads/2018/09/Normals_15-300x86.png 300w" sizes="(max-width: 434px) 100vw, 434px" /></p>
<p>4. Запекаем все карты без флага “<strong>Average Normals</strong>”.</p>
<p><img class="aligncenter size-full wp-image-422" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_16.png" alt="" width="595" height="498" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_16.png 595w, http://mrven.ru/wp-content/uploads/2018/09/Normals_16-300x251.png 300w" sizes="(max-width: 595px) 100vw, 595px" /></p>
<p>5. В “<strong>Texture Set Settings</strong>” выставляем <strong>Normal mixing</strong> “<strong>Replace</strong>”.</p>
<p><img class="aligncenter size-full wp-image-423" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_17.png" alt="" width="433" height="309" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_17.png 433w, http://mrven.ru/wp-content/uploads/2018/09/Normals_17-300x214.png 300w" sizes="(max-width: 433px) 100vw, 433px" /></p>
<p>6. Создаём два слоя заливки (<strong>Fill Layer</strong>) для карт нормалей.</p>
<p><img class="aligncenter size-full wp-image-425" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_18.png" alt="" width="276" height="97" /></p>
<p>7. На слое <strong>Normals_Average</strong> отключаем все каналы, кроме “<strong>Normal</strong>” и назначаем <strong>Normal Map</strong>’у, запечённую по средним нормалям (с суффиксом <strong>_Average</strong>).</p>
<p><img class="aligncenter size-full wp-image-426" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_19.png" alt="" width="259" height="169" /></p>
<p>8. На слое <strong>Normals_Planar</strong> отключаем все каналы, кроме “<strong>Normal</strong>” и назначаем <strong>Normal Map</strong>’у, запечённую <strong>БЕЗ</strong> средних нормалей.</p>
<p><img class="aligncenter size-full wp-image-427" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_20.png" alt="" width="255" height="177" /></p>
<p>9. Добавляем на эти слои маски.</p>
<p><img class="aligncenter size-full wp-image-428" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_21.png" alt="" width="277" height="97" /></p>
<p>10. Добавляем на маску слоя <strong>Normals_Average</strong> “<strong>Paint</strong>” и “<strong>Anchor Point</strong>”</p>
<p><img class="aligncenter size-full wp-image-429" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_22.png" alt="" width="276" height="143" /></p>
<p>11. На маске слоя <strong>Normals_Planar</strong> добавляем “<strong>Fill</strong>”.</p>
<p><img class="aligncenter size-full wp-image-430" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_23.png" alt="" width="277" height="162" /></p>
<p>12. У “<strong>Fill</strong>” указываем в “<strong>Grayscale</strong>” источник “<strong>Anchor Points/Normal_Average mask</strong>” и в уровнях нажимаем кнопку “<strong>Invert</strong>”.</p>
<p><img class="aligncenter size-full wp-image-431" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_24.png" alt="" width="303" height="319" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_24.png 303w, http://mrven.ru/wp-content/uploads/2018/09/Normals_24-285x300.png 285w" sizes="(max-width: 303px) 100vw, 303px" /></p>
<p>13. Теперь при рисовании в “<strong>Paint</strong>” маски слоя <strong>Normal_Average</strong> чёрным цветом будет проявляться слой <strong>Normals_Planar</strong>. Для удобства контроля можно временно включить канал “<strong>Color</strong>” в слое <strong>Normals_Planar</strong> и задать любой контрастный цвет.</p>
<p><img class="aligncenter size-full wp-image-433" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_25-1.png" alt="" width="302" height="276" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_25-1.png 302w, http://mrven.ru/wp-content/uploads/2018/09/Normals_25-1-300x274.png 300w" sizes="(max-width: 302px) 100vw, 302px" /></p>
<p><img class="aligncenter size-full wp-image-432" src="http://mrven.ru/wp-content/uploads/2018/09/Normals_25.png" alt="" width="609" height="505" srcset="http://mrven.ru/wp-content/uploads/2018/09/Normals_25.png 609w, http://mrven.ru/wp-content/uploads/2018/09/Normals_25-300x249.png 300w" sizes="(max-width: 609px) 100vw, 609px" /></p>
<p>Конечно же, здесь описаны не все случаи и тонкости, потому что вышла бы слишком объёмная и запутанная статья. Но это основные моменты, при знании которых, в большинстве случаев, при запекании не возникнет проблем.</p>
<p style="text-align: center;"><a href="http://mrven.ru/game-cg/">Вернуться к энциклопедии</a></p>
	</div><!-- .entry-content -->

	</article><!-- #post-## -->

		</main><!-- #main -->
	</div><!-- #primary -->
</div> <!-- Content-row -->

	</div><!-- #content -->
</div><!-- #site-content-wrap -->	
	<footer id="colophon" class="site-footer" role="contentinfo">
				
						
		<div class="site-info">
			<div class="container">					
			<div class="site-copyright clearfix"> 				
					
				<div class="aakriti-personal-blog-col-12 aakriti-personal-blog-columns copyright">Blog Design Theme</div>	
			</div>				
		</div><!-- .site-info -->
		</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<nav class="mobile-navigation mobile-menu" role="navigation">
	
	<div class="mobile_close_icons"><i class="fa fa-close"></i></div>
   <div class="mobile-menu-container"><ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-213"><a title="Энциклопедия игровой компьютерной графики" href="http://mrven.ru/game-cg/">Энциклопедия</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-71"><a href="http://mrven.ru/blender-addon-texel-density-checker/">Texel Density Checker</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-170"><a href="http://mrven.ru/blender-addon-asset-creation-toolset/">Asset Creation Toolset</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-post menu-item-145"><a href="http://mrven.ru/2018/01/3d-works/">3D Works</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-232"><a href="http://mrven.ru/about/">Обо мне</a></li>
</ul></div>	<div class="mobile-menu-social-icon"></div>
</nav>
<div class="sidebar-menu show-for-large-only">
	<div class="sidebar_close_icons"><i class="fa fa-close"></i></div>
	<aside class="widget-area" role="complementary">
	<section id="search-3" class="widget widget_search"><h2 class="widget-title">Search</h2>
<form role="search" method="get" class="search-form" action="http://mrven.ru/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Enter your Keyword" value="" name="s">
	</label>
	<button type="submit" class="search-submit">
		<i class="fa fa-search"></i>
		<span class="screen-reader-text">Search</span>
	</button>
</form>
</section><section id="text-4" class="widget widget_text"><h2 class="widget-title">Find Me</h2>			<div class="textwidget"><p><a href="https://assetstore.unity.com/publishers/9198" target="_blank" rel="noopener noreferrer">Unity Asset Store</a></p>
<p><a href="https://gumroad.com/mrven" target="_blank" rel="noopener noreferrer">Gumroad</a></p>
<p><a href="https://www.cgtrader.com/mrven" target="_blank" rel="noopener noreferrer">CG Trader</a></p>
<p><a href="https://sketchfab.com/mrven" target="_blank" rel="noopener noreferrer">Sketchfab</a></p>
<p><a href="https://www.gamedevmarket.net/member/valday-team/" target="_blank" rel="noopener noreferrer">Gamedev Market</a></p>
<p><a href="https://cubebrush.co/mrven" target="_blank" rel="noopener noreferrer">Cubebrush</a></p>
<p><a href="https://blendermarket.com/creators/valdayteam" target="_blank" rel="noopener noreferrer">Blender Market</a></p>
<p><a href="https://www.turbosquid.com/Search/Artists/Ivan-Vostrikov" target="_blank" rel="noopener noreferrer">Turbosquid</a></p>
<p><a href="https://www.unrealengine.com/marketplace/profile/Valday%20Team" target="_blank" rel="noopener noreferrer">Unreal Engine Marketplace</a></p>
<p><a href="https://twitter.com/ivostrikov" target="_blank" rel="noopener noreferrer">Twitter</a></p>
<p><a href="https://www.facebook.com/valdayteam" target="_blank" rel="noopener noreferrer">Facebook</a></p>
<p><a href="https://vk.com/valdayteam" target="_blank" rel="noopener noreferrer">VK</a></p>
<p><a href="https://www.artstation.com/mrven">Artstation</a></p>
<p><a href="https://t.me/cgpedia">Telegram Channel</a></p>
<p>&nbsp;</p>
</div>
		</section></aside><!-- #secondary -->
</div>
<a href="#" class="scroll-to-top hidden"><i class="fa fa-angle-up"></i></a>

<script type='text/javascript' src='http://mrven.ru/wp-content/themes/aakriti-personal-blog/assets/js/custombox.min.js?ver=1.0.6'></script>
<script type='text/javascript' src='http://mrven.ru/wp-content/themes/aakriti-personal-blog/assets/js/public.js?ver=1.0.6'></script>
<script type='text/javascript' src='http://mrven.ru/wp-content/plugins/enlighter/resources/mootools-core-yc.js?ver=3.10.0'></script>
<script type='text/javascript' src='http://mrven.ru/wp-content/plugins/enlighter/resources/EnlighterJS.min.js?ver=3.10.0'></script>
<script type='text/javascript' src='http://mrven.ru/wp-includes/js/wp-embed.min.js?ver=5.3.4'></script>
<script type="text/javascript">/* <![CDATA[ */EnlighterJS_Config = {"selector":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"language":"generic","theme":"enlighter","indent":-1,"hover":"hoverEnabled","showLinenumbers":true,"rawButton":true,"infoButton":true,"windowButton":true,"rawcodeDoubleclick":false,"grouping":true,"cryptex":{"enabled":false,"email":"mail@example.tld"}};!function(){var a=function(a){var b="Enlighter Error: ";console.error?console.error(b+a):console.log&&console.log(b+a)};return window.addEvent?"undefined"==typeof EnlighterJS?void a("Javascript Resources not loaded yet!"):"undefined"==typeof EnlighterJS_Config?void a("Configuration not loaded yet!"):void window.addEvent("domready",function(){EnlighterJS.Util.Init(EnlighterJS_Config.selector.block,EnlighterJS_Config.selector.inline,EnlighterJS_Config)}):void a("MooTools Framework not loaded yet!")}();;/* ]]> */</script></body>
</html>
